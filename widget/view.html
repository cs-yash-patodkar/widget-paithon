<!-- Copyright start
  Copyright (C) 2008 - 2023 Fortinet Inc.
  All rights reserved.
  FORTINET CONFIDENTIAL & FORTINET PROPRIETARY SOURCE CODE
  Copyright end -->
<div class="width-100pt">
    <div class="modal-body-padding">
        <wizard on-finish="close()" indicators-position="top"
            class="remove-heading view-panel mp-view-panel padding-left-lg" name="pAIthonBot-wizard">
            <div class="padding-top-30">
                <div class="modal-title display-inline-flex margin-0">
                    <img style="width: 10%;" src="widgets/installed/pAIthon-1.0.0/images/robot.svg" alt="pAIthon">
                    <span class="padding-top-lg padding-left-10">
                        <div>
                            pAIthon
                        </div>
                    </span>
                </div>
                <div class="clearfix"></div>

                <!-- Radio Button -->
                <div class="row margin-bottom-sm">
                    <div class="col-md-6 padding-right-0">
                        <div class="radio">
                            <label><input id="playbook-suggestion-radio" name="playbook-suggestionradio" type="radio"
                                    data-ng-model="botType" value="Playbook Suggestion">&nbsp;&nbsp;Get Playbook
                                Suggestion</label>
                            <span data-uib-tooltip="To get playbook steps." data-tooltip-append-to-body="true"><i
                                    class="icon icon-information font-Size-13"></i></span>
                        </div>
                        <div class="radio">
                            <label><input id="conversation-radio" name="conversation-radio" type="radio"
                                    data-ng-model="botType" value="Conversation">&nbsp;&nbsp;Ask Anything</label>
                            <span data-uib-tooltip="Start a conversation with the bot"
                                data-tooltip-append-to-body="true"><i
                                    class="icon icon-information font-Size-13"></i></span>
                        </div>
                    </div>
                </div>
                <!-- Radio Button End -->

                <div id="Result-container" data-ng-if="botType  === 'Playbook Suggestion' ">
                    <div class="margin-top-30 padding-bottom-md">
                        <div class="display-inline">
                            <img style="width: 3%;" src="widgets/installed/pAIthon-1.0.0/images/robot.svg"
                                alt="pAIthon">
                            <span class="control-label padding-top-sm"
                                data-ng-if="payload.pageContext === 'pb_designer'">What is the task you want to
                                automate?
                            </span>
                        </div>
                    </div>
                    <div>
                        <textarea style="width: 500px; height:200px;" class="form-control margin-bottom-20"
                            name="botInput" ng-model="inputText.inputText"></textarea>
                    </div>
                    <button id="generate-result-button"
                        data-ng-if="!playbookDescription && payload.pageContext === 'pb_designer'" type="button"
                        data-ng-disabled="!inputText || inputText === ''"
                        class="btn btn-primary btn-sm margin-top-xlg text-transform-none font-size-14"
                        data-ng-click="generatePlaybookDescription(inputText)" id="pAIthon-next-btn">Generate
                        Result<i class="fa margin-left-sm"></i>
                    </button>
                    <div data-ng-if="processing" class="display-inline-block margin-left-120">
                        <cs-spinner></cs-spinner>
                    </div>
                    <div data-ng-if="showDescription && !processing" style="height: 300px;" data-cs-json-editor data-expand-all="true"
                        data-options="options" data-on-change="updateRichTextHtmlValue" data-json="playbookDescription">
                    </div>
                    <div id="on-receiving-pdDescription" data-ng-if="showDescription && !processing">
                        <button type="button" data-ng-if="showDescription"
                            class="btn btn-primary pull-left btn-sm margin-top-lg margin-right-lg"
                            data-ng-click="reviewPlaybook(); " id="btn-copy-result"
                            title="Copied results can be paste directly inside playbook designer using ctrl/cmd v option."><i
                                class="fa fa-clipboard margin-right-sm"></i>Review &amp; Result </button>
                        <button type="button" data-ng-if="showDescription"
                            class="btn btn-default pull-left btn-sm margin-top-lg margin-right-lg"
                            data-ng-click="generatePlaybookDescription(inputText)" " id=" btn-regenerate-result"
                            title="To get a different result."><i class="fa fa-repeat margin-right-sm"></i>Regenerate
                            Result </button>
                    </div>
                </div>

                <div data-ng-if="botType === 'Conversation'">
                    <div class="margin-top-30 padding-bottom-md">
                        <div class="display-inline">
                            <img style="width: 3%;" src="widgets/installed/pAIthon-1.0.0/images/robot.svg"
                                alt="pAIthon">
                            <span class="control-label padding-top-sm"
                                data-ng-if="payload.pageContext === 'pb_designer'">Ask Bot a question.
                        </div>
                    </div>
                    <div class="chat-container">
                        <div class="chat-box" style="margin:5px" ng-repeat="message in chatMessages">
                            <div class="user-message padding-bottom-md padding-top-md" ng-if="message.type === 'user'">
                                <img class="margin-bottom-4 margin-right-md userpic userpic_bg"
                                    data-ng-src="images/default-profile-photo.png?v=1"
                                    src="images/default-profile-photo.png?v=1">
                                    <p class="display-inline-block"> User: {{ message.text }}</p></div>

                            <div class="bot-message padding-bottom-md padding-top-md" ng-if="message.type === 'bot'">
                                <img class="margin-bottom-4 margin-right-md userpic userpic_bg"
                                    data-ng-src="images/default-profile-photo.png?v=1"
                                    src="images/default-profile-photo.png?v=1">
                                    <p class="display-inline-block"> Bot: {{ message.text }}</p>
                            </div>
                        </div>
                    </div>
                    <div class="loading-dots" data-ng-if="receivingResponse">
                        <span class="dot"></span>
                        <span class="dot"></span>
                        <span class="dot"></span>
                    </div>
                    <div class="display-flex">
                        <textarea type="text" id="conversation-text-input" name="conversation-text-input"
                            class="form-control input-sm display-inline" placeholder="Type a message"
                            ng-model="userInput.textVal" ng-keypress="sendMessage($event, false)" autoheight>
                        </textarea> <i data-ng-click="sendMessage($event, true)"
                            class="fa fa-arrow-right padding-top-7 position-relative right-25"></i>
                    </div>
                </div>
            </div>
        </wizard>
    </div>
</div>