<!-- Copyright start
  Copyright (C) 2008 - 2023 Fortinet Inc.
  All rights reserved.
  FORTINET CONFIDENTIAL & FORTINET PROPRIETARY SOURCE CODE
  Copyright end -->
  <div class="width-100pt">
    <div class="display-inline-flex margin-0 margin-left-18 margin-top-20 modal-title">
        <img style="width: 10%;" src="widgets/installed/pAIthon-1.0.0/images/robot.svg" alt="pAIthon">
        <span class="padding-top-lg padding-left-10">
            <div>
                pAIthon
            </div>
        </span>
    </div>
    <div id="bot-conversation" class="modal-body" style="padding-bottom: 10%;">
        <div class="padding-left-lg" style="background-color: #1b2430;" name="pAIthonBot-wizard">
            <div class="padding-top-30">
                <div id="chat-container-full">
                    <div id="bot-conversation-window" class="chat-container">
                        <div class="chat-box" data-ng-if="botType  === 'Conversation'"
                            style="display: grid;grid-template-columns: 1fr auto;margin: 5px;"
                            ng-repeat="message in conversationMessages">
                            <div id="conversation-{{$index}}" class="user-message" ng-if="message.type === 'user'">
                                <div class="chat-content">
                                    <div style="max-width: 700px;" class="display-inline-block margin-15">
                                        <div data-cs-markdown-editor id="show-playbook-description"
                                            data-ng-model="message.text" mode="'view'">
                                        </div>
                                    </div>
                                    <!-- <p style="max-width: 700px;" class="display-inline-block margin-bottom-md padding-left-10 padding-right-12">{{ message.text }}</p> -->
                                </div>
                            </div>
                            <div id="conversation-{{$index}}" class="bot-message" ng-if="message.type === 'bot'">
                                <div class="chat-content">
                                    <div style="max-width: 700px;" class="display-inline-block margin-15">
                                        <div data-cs-markdown-editor id="show-playbook-description"
                                            data-ng-model="message.text" mode="'view'">
                                        </div>
                                    </div>
                                    <!-- <p style="max-width: 700px;" class="display-inline-block margin-bottom-md padding-left-10 padding-right-12">{{ message.text }}</p> -->
                                </div>
                            </div>
                        </div>

                        <div class="chat-box" data-ng-if="botType  === 'Playbook Suggestion'"
                            style="display: grid;grid-template-columns: 1fr auto;margin: 5px;"
                            ng-repeat="message in playbookSuggestionMessages">
                            <div id="pbconversation-{{$index}}" class="user-message" ng-if="message.type === 'user'">
                                <div class="chat-content">
                                    <div style="max-width: 700px;" class="display-inline-block margin-15">
                                        <div data-cs-markdown-editor id="show-playbook-description"
                                            data-ng-model="message.text" mode="'view'">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div id="pbconversation-{{$index}}" class="bot-message" ng-if="message.type === 'bot'">
                                <div class="chat-content">
                                    <div style="max-width: 700px;" class="display-inline-block margin-15">
                                        <div style="height: 450px; width: 690px;" data-cs-json-editor data-expand-all="true"
                                            data-options="options" data-on-change="updateRichTextHtmlValue" data-json="message.text">
                                        </div>
                                        <button type="button" data-ng-if="showDescription && message.generatePlaybook"
                                            class="btn btn-primary pull-left btn-sm margin-top-lg margin-right-lg"
                                            data-ng-click="reviewPlaybook(message.text); " id="btn-copy-result"
                                            title="Copied results can be paste directly inside playbook designer using ctrl/cmd v option."><i
                                                class="fa fa-clipboard margin-right-sm"></i>Review Result
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div id="pbconversation-{{$index}}" class="bot-message" ng-if="message.type === 'botGeneral'">
                                <div class="chat-content">
                                    <div style="max-width: 700px;" class="display-inline-block margin-15">
                                        <div  data-cs-markdown-editor id="show-playbook-description"
                                            data-ng-model="message.text" mode="'view'">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="loading-dots" data-ng-if="receivingResponse">
                            <span class="dot"></span>
                            <span class="dot"></span>
                            <span class="dot"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="user-input-container" style="border-top-color:#939393; z-index: 10; background-color:#000000; padding-right: 10%;width: 100%;"
        class="modal-footer bottom-0 padding-bottom-30 padding-left-20 position-absolute">
        <!-- Radio Button -->
        <div class="row margin-bottom-sm">
            <div class="padding-right-0 padding-left-20">
                <div class="display-flex" style="justify-content: flex-start;">
                    <div class="padding-right-25 radio">

                        <label><input id="conversation-radio" name="conversation-radio" type="radio"
                                data-ng-model="botType" data-ng-change="onChangeMode()" value="Conversation">&nbsp;&nbsp;Response Plans
                            / Jinja / Playbook How To's</label>
                        <span data-uib-tooltip="Start a conversation with the bot" data-tooltip-append-to-body="true"><i
                                class="icon icon-information font-Size-13"></i></span>
                    </div>
                    <p style="padding-top: 7px;">
                        |
                    </p>

                    <div class="padding-left-25 radio">
                        <label><input id="playbook-suggestion-radio" name="playbook-suggestion-radio" type="radio"
                                data-ng-model="botType" data-ng-change="onChangeMode()" value="Playbook Suggestion">&nbsp;&nbsp;Playbook
                            Generation</label>
                        <span data-uib-tooltip="To get playbook steps." data-tooltip-append-to-body="true"><i
                                class="icon icon-information font-Size-13"></i></span>
                    </div>
                </div>

            </div>
        </div>
        <!-- Radio Button End -->

        <div class="display-flex" style="margin-top: -7px;">
            <textarea style="border-radius: 10px;" data-ng-disabled="receivingResponse" type="text" id="conversation-text-input" name="conversation-text-input"
                class="form-control input-sm display-inline" placeholder="Type a message" ng-model="userInput.textVal"
                ng-keypress="sendMessage($event, false)">
            </textarea> <i data-ng-click="sendMessage($event, true)"
                class="fa fa-arrow-right padding-top-7 position-relative right-25"></i>
        </div>
    </div>